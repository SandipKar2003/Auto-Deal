<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car sell website</title>
    <link rel="icon" href="../static/skd logo.jpg">
    <!-- link to css -->
    <!-- <link rel="stylesheet" href="../static/style.css"> -->
    <link rel="stylesheet" href="/static/index.css">
    <!-- link boxicons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
    <!-- car price prediction -->
    <script>
        function runStreamlit() {
            fetch("http://localhost:8501/run-streamlit")
                .then(response => response.json())
                .then(data => alert(data.message || data.error))
                .catch(error => console.error("Error:", error));
        }
    </script>

</head>

<body>
    <!-- header -->
    <header>
        <a href="#" class="logo"><img src="../static/skd logo.jpg" alt="sandip kar"></a>
        <div class="bx bx-menu" id="menu-icon"></div>
        <ul class="navbar">
            <li><a href="/#home">Home</a></li>
            <li><a href="/#ride">Ride</a></li>
            <li><a href="/#services">Services</a></li>
            <li><a href="/#about">About</a></li>
            <li><a href="/#reviews">Reviews</a></li>
        </ul>

        <div class="header-btn">
            {% if request.session.get("user") %}
            <div class="user_info1" style="display:flex; align-items:center; gap:10px;">
                <div style="display:flex; flex-direction:column; align-items:flex-start;">
                    <!-- <img src="../static/skd logo.jpg" alt="User" style="width:30px; height:30px; border-radius:50%;margin-left:80px"> -->
                    <span
                        style="font-size:16px; font-weight:bold; color:#ff6600; font-family:'Segoe UI', sans-serif; text-shadow:1px 1px 2px rgba(0,0,0,0.2); letter-spacing:0.5px;">
                        Welcome <img src="../static/skd logo.jpg" alt="User"
                            style="width:20px; height:20px; border-radius:50%;">
                    </span>
                    <span
                        style="font-size:18px; font-weight:bold; color:#0066cc; font-family:'Georgia', serif; text-shadow:1px 1px 3px rgba(0,0,0,0.3); letter-spacing:1px;">
                        {{ request.session.get("user").split('@')[0] }}
                    </span>
                </div>
                <div style="position:relative;">
                    <a href="#" onclick="showLogoutConfirm(event)" class="logout-btn"
                        style="background:#ff4d4d; padding:5px 10px; border-radius:5px; color:white; text-decoration:none;">
                        Logout
                    </a>
                    <!-- Hidden confirmation box -->
                    <div id="logoutConfirmBox" style="display:none; position:absolute; top:40px; right:0; 
            background:rgb(233, 133, 142); border:1px solid #ccc; 
            padding:20px; border-radius:8px; 
            box-shadow:0 6px 12px rgba(248, 3, 3, 0.3); 
            width:220px; text-align:center; font-size:15px;">
                        <p style="margin:0 0 15px 0; font-weight:bold;">Are you sure you want to logout?</p>
                        <button onclick="confirmLogout()" style="background:#ff4d4d; color:white; border:none; 
                   padding:8px 15px; border-radius:5px; cursor:pointer; font-size:14px;">
                            Yes
                        </button>
                        <button onclick="hideLogoutConfirm()" style="margin-left:10px; background:#ccc; border:none; 
                   padding:8px 15px; border-radius:5px; cursor:pointer; font-size:14px;">
                            Cancel
                        </button>
                    </div>

                </div>
            </div>
            {% else %}
            <a href="Sign_up" class="sign-up">Sign up</a>
            <a href="Sign_in" class="sign-in">Sign in</a>
            {% endif %}
        </div>


    </header>

    <!-- custom logout model  -->
    <!-- Custom Logout Modal (hidden by default) -->
    <div id="logoutModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; 
            background:rgba(0,0,0,0.5); align-items:center; justify-content:center;">
        <div style="background:#fff; padding:20px; border-radius:10px; text-align:center; width:300px;">
            <p style="font-size:16px; margin-bottom:20px;">Are you sure you want to log out?</p>
            <button onclick="confirmLogout()" style="background:#e63946; color:#fff; border:none; padding:8px 16px; 
                       border-radius:5px; cursor:pointer; margin-right:10px;">
                Yes, Logout
            </button>
            <button onclick="closeLogoutModal()" style="background:#6c757d; color:#fff; border:none; padding:8px 16px; 
                       border-radius:5px; cursor:pointer;">
                Cancel
            </button>
        </div>
    </div>

    <script src="../static/logout.js"></script>
    <!-- home -->
    <section class="home" id="home">
        <div class="text">
            <h1><span>Looking</span> to <br> rent a car</h1>
            <p>Hii Guys!!!!<br>I Am Coming To poduce car as rent <br> take your <span>FEVOURITE</span> car from me </p>

             


            <div class="appstores">
                <img src="../static/playstore.jpg" alt="google">
                <img src="../static/appstore.jpg" alt="appstore">
            </div>
        </div>
        <!-- <div class="from-container">
            <form action="">
                <div class="input-box">
                    <span>location</span>
                    <input type="search" name="" id="" placeholder="Search Place">
                </div>
                <div class="input-box">
                    <span>Pick-up Date</span>
                    <input type="date">
                </div>
                <div class="input-box">
                    <span>Return Date</span>
                    <input type="date">
                </div>
                <input type="submit" class="btn">
            </form>
        </div> -->
    </section>

    <!-- ride -->
    <section class="ride" id="ride">
        <div class="heading">
            <span>How Its Work</span>
            <h1>Rent With 3 Easy Steps</h1>
        </div>
        <div class="ride-container">
            <div class="box">
                <i class='bx bxs-map'></i>
                <h2>Coose A Location</h2>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Distinctio inventore dolorum magni, dolor
                    dicta error!</p>
            </div>

            <div class="box">
                <i class='bx bxs-calendar-check'></i>
                <h2>Pick-up Date</h2>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Distinctio inventore dolorum magni, dolor
                    dicta error!</p>
            </div>

            <div class="box">
                <i class='bx bxs-calendar-star'></i>
                <h2>Book A Car</h2>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Distinctio inventore dolorum magni, dolor
                    dicta error!</p>
            </div>
        </div>
    </section>

    <!-- service -->
   <section class="services" id="services">
    <div class="heading">
        <span>Best Service</span>
        <h1>Explore Our Deals <br> From Top Rated Dealers</h1>
    </div>

    <div class="services-container">
        <!-- old service cards kept here in comments -->

        {% for product in products %}
        <div class="box">
            <div class="box-img">
                <img src="{{ product.img }}" alt="Product Image">
            </div>
            <p>{{ product.year }}</p>
            <h3>{{ product.short_desc }}</h3>
            <h2>{{ product.price }} <span>/month</span></h2>

            {% if request.session.get("user") %}
                <div class="pbtn">
                    <button onclick="runStreamlit()" class="btnp">Predict Your Car Price</button>
                </div>
                <a href="/product/{{ product.id }}" class="btn">Rent Now</a>
            {% else %}
                <div style="background:#ffe6e6; border:1px solid #ff4d4d; 
                            color:#cc0000; padding:10px 15px; 
                            border-radius:8px; margin-top:12px; 
                            font-size:14px; font-weight:500; 
                            display:inline-block;">
                    ðŸ”’ <a href="/Sign_in" style="color:#0066cc; font-weight:bold; text-decoration:none;">
                        Login
                    </a> to predict price or rent
                </div>
            {% endif %}
        </div>
        {% endfor %}
    </div>
</section>


    <!-- about -->
    <section class="about" id="about">
        <div class="heading">
            <span>About Us</span>
            <h1>Best Coustomer Exprience</h1>
        </div>
        <div class="about-container">
            <div class="about-img">
                <img src="../static/skd logo.jpg" alt="">
            </div>
            <div class="about-text">
                <span>About Us</span>
                <p>In our car rental app, we strive to provide a seamless and convenient experience for all our users.
                    From booking a vehicle to returning it, we prioritize customer satisfaction above all else. With a
                    diverse fleet of well-maintained cars, we offer options to suit every need and budget. Our
                    user-friendly interface makes it easy to browse, select, and reserve the perfect car for your
                    journey.</p>
                <p>So don't miss the chance come our site and select your fevourite car fill the all process and take
                    the car at your home</p>
                <a href="#" class="btn">Learn More</a>
            </div>
        </div>
    </section>

    <!--Reviews  -->
    <section class="reviews" id="reviews">
        <div class="heading">
            <span>Reviews</span>
            <h1>What Our Coustomer Say</h1>
        </div>
        <div class="reviews-container">
            <div class="box">
                <div class="rev-img">
                    <img src="../static/backcar.jpg">
                </div>
                <h2>Sujoy Hensh</h2>
                <div class="stars">
                    <i class="bx bxs-star"></i>
                    <i class="bx bxs-star"></i>
                    <i class="bx bxs-star"></i>
                    <i class="bx bxs-star"></i>
                    <i class="bx bxs-star-half"></i>
                </div>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Minus praesentium placeat quae! Unde, in
                    inventore! Excepturi dignissimos, sit temporibus laboriosam maiores quia numquam itaque, in ratione
                    vitae nobis, odio repudiandae.</p>
            </div>

            <div class="box">
                <div class="rev-img">
                    <img src="../static/revew.jpg" alt="">
                </div>
                <h2>Tusu</h2>
                <div class="stars">
                    <i class="bx bxs-star"></i>
                    <i class="bx bxs-star"></i>
                    <i class="bx bxs-star"></i>
                    <i class="bx bxs-star"></i>
                    <i class="bx bxs-star-half"></i>
                </div>
                <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Eaque ex cupiditate expedita?</p>
            </div>

            <div class="box">
                <div class="rev-img">
                    <img src="../static/SANDIPKAR_12022002029114_Passport.jpg" alt="">
                </div>
                <h2>Ikbal</h2>
                <div class="stars">
                    <i class="bx bxs-star"></i>
                    <i class="bx bxs-star"></i>
                    <i class="bx bxs-star"></i>
                    <i class="bx bxs-star"></i>
                    <i class="bx bxs-star-half"></i>
                </div>
                <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Eaque ex cupiditate expedita?</p>
            </div>
        </div>
    </section>

    <!-- NewsLetter -->
    <section class="newsletter">
        <h2>Subscribe To Newsletter</h2>
        <div class="box">
            <input type="text" placeholder="Enter Your Email...">
            <a href="#" class="btn">Subscribe</a>
        </div>
    </section>

    <!-- ScrollRevela -->
    <script src="https://unpkg.com/scrollreveal"></script>
    <!-- link to the java script -->
    <script src="../static/first.js"></script>

    <!-- for the streamlit app -->
    <script>
        function runStreamlit() {
            fetch('/predict').then(() => {
                window.open("http://localhost:8501", "_blank");
            });
        }
    </script>
</body>

</html>